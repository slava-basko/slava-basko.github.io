<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Functional Programming and PHP | Notes and thoughts</title>
<meta name="generator" content="Jekyll v4.4.1" />
<meta property="og:title" content="Functional Programming and PHP" />
<meta name="author" content="Slava Basko" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Let’s talk about PHP and functional programming. Why might it be a thing." />
<meta property="og:description" content="Let’s talk about PHP and functional programming. Why might it be a thing." />
<link rel="canonical" href="/2025/04/10/functional-programming-php.html" />
<meta property="og:url" content="/2025/04/10/functional-programming-php.html" />
<meta property="og:site_name" content="Notes and thoughts" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2025-04-10T00:00:00+00:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Functional Programming and PHP" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Slava Basko"},"dateModified":"2025-04-10T00:00:00+00:00","datePublished":"2025-04-10T00:00:00+00:00","description":"Let’s talk about PHP and functional programming. Why might it be a thing.","headline":"Functional Programming and PHP","mainEntityOfPage":{"@type":"WebPage","@id":"/2025/04/10/functional-programming-php.html"},"url":"/2025/04/10/functional-programming-php.html"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="/feed.xml" title="Notes and thoughts" /><script>
if(!(window.doNotTrack === "1" || navigator.doNotTrack === "1" || navigator.doNotTrack === "yes" || navigator.msDoNotTrack === "1")) {
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'G-QYT56TXX6B', 'auto');
  ga('send', 'pageview');
}
</script>
  
</head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">Notes and thoughts</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/about.html">About</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Functional Programming and PHP</h1>
    <div class="post-meta">
      <time class="dt-published" datetime="2025-04-10T00:00:00+00:00" itemprop="datePublished">
        Apr 10, 2025
      </time>
        &bullet;
        
        <a href="/tag/php.html">#php</a>
        
        <a href="/tag/functional.html">#functional</a>
        
    </div>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p>Let’s talk about PHP and functional programming. Why might it be a thing.</p>

<p>I always try to learn something new because this is the part of me. I love learning, it helps brain to be fit. As part of this process, I used to try Go, Python, Java, etc. More or less, they are all about the same.
It’s like learning Spanish and Italian. They are both Latin, use similar structures, grammar, syntax, etc. You get some profit of knowing both languages, but not the same as you know Latin and Cyrillic, for example.
Cyrillic is something completely different. This shows how else one can communicate. It opens completely new horizons.</p>

<p>After a little bit of googling, I found functional programming. Eventually, I ended up with Scheme and Haskell, and later primary with Haskell. Ohh, that was a real struggle even in understanding what was going on in a simple Haskell function because this language was exotic to my procedural brain. I believe it is far easier for a newcomer to grasp Haskell than for a someone who get used to writing procedural code.</p>

<p>Today I want to focus not on the specific functional programming language, but on the paradigms, rules, principles from the functional programming, like:</p>
<ul>
  <li>Purity</li>
  <li>Immutability</li>
  <li>First-Class Functions</li>
  <li>Composition</li>
  <li>Currying</li>
  <li>Declarative Programming</li>
</ul>

<p>The first three might sound familiar to any modern procedural developer. I will not go thoroughly through all the concepts, but instead, I want to show what they are all about briefly.</p>

<h3 id="purity">Purity</h3>

<p>Function that has <strong>both input and output</strong>, with no <a href="https://en.wikipedia.org/wiki/Side_effect_(computer_science)" target="_blank">side effects</a>.
Why do I emphasize on both input and output? Because most likely your function has side effects if there is no input or output.</p>
<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Pure function</span>
<span class="k">function</span> <span class="n">concat</span><span class="p">(</span><span class="nv">$separator</span><span class="p">,</span> <span class="nv">$a</span><span class="p">,</span> <span class="nv">$b</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nv">$a</span> <span class="mf">.</span> <span class="nv">$separator</span> <span class="mf">.</span> <span class="nv">$b</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// Not pure, because relying on global constant</span>
<span class="k">function</span> <span class="n">concat</span><span class="p">(</span><span class="nv">$a</span><span class="p">,</span> <span class="nv">$b</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nv">$a</span> <span class="mf">.</span> <span class="no">DEFAULT_SEPAEATOR</span> <span class="mf">.</span> <span class="nv">$b</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Pure functions are much easier to test. You don’t need to mock anything! You pass arguments, you get the result.
Pure functions are predictable and straightforward.</p>

<h3 id="immutability">Immutability</h3>
<p>Data, once created, cannot be changed. Instead of modifying existing data, new data is created based on the old data.
We don’t need to do anything special in most cases to stick this rule because <code class="language-plaintext highlighter-rouge">passed by value</code> is a default PHP behavior.
Except <a href="https://www.php.net/manual/en/functions.arguments.php#functions.arguments.by-reference" target="_blank">objects</a>, they a <code class="language-plaintext highlighter-rouge">passed by reference</code>.</p>
<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">function</span> <span class="n">formatEmail</span><span class="p">(</span><span class="kt">ValueObject</span> <span class="nv">$valueObject</span><span class="p">)</span> <span class="p">{</span>
    <span class="nv">$value</span> <span class="o">=</span> <span class="nv">$valueObject</span><span class="o">-&gt;</span><span class="nf">getValue</span><span class="p">();</span>
    
    <span class="c1">// do what you need with $value</span>
    
    <span class="k">return</span> <span class="k">new</span> <span class="nc">ValueObject</span><span class="p">(</span><span class="nv">$value</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>
<p>Obviously, immutability saves as from the unexpected results at the end.</p>

<h3 id="first-class-functions">First-Class Functions</h3>
<p>This fancy phrase means that the functions like any other data type, such as numbers or strings.
You can assign them to variables, pass them as arguments to other functions, and return them from functions.</p>

<p>I bet you are familiar with this technique and using it on a daily basis. For example, collections:</p>
<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$collection</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Collection</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]);</span>

<span class="nv">$filtered</span> <span class="o">=</span> <span class="nv">$collection</span><span class="o">-&gt;</span><span class="nf">filter</span><span class="p">(</span><span class="k">function</span><span class="p">(</span><span class="nv">$element</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nv">$element</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">;</span>
<span class="p">});</span> <span class="c1">// [2, 3]</span>
</code></pre></div></div>
<p>Collection::filter() accepts function as argument.</p>

<p>Here is another example of how first-class functions could be useful:</p>
<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sort</span><span class="p">(</span><span class="nf">ascend</span><span class="p">(</span><span class="nf">prop</span><span class="p">(</span><span class="s1">'age'</span><span class="p">)),</span> <span class="p">[</span>
     <span class="p">[</span><span class="s1">'name'</span> <span class="o">=&gt;</span> <span class="s1">'Emma'</span><span class="p">,</span> <span class="s1">'age'</span> <span class="o">=&gt;</span> <span class="mi">70</span><span class="p">],</span>
     <span class="p">[</span><span class="s1">'name'</span> <span class="o">=&gt;</span> <span class="s1">'Peter'</span><span class="p">,</span> <span class="s1">'age'</span> <span class="o">=&gt;</span> <span class="mi">78</span><span class="p">],</span>
     <span class="p">[</span><span class="s1">'name'</span> <span class="o">=&gt;</span> <span class="s1">'Mikhail'</span><span class="p">,</span> <span class="s1">'age'</span> <span class="o">=&gt;</span> <span class="mi">62</span><span class="p">],</span>
<span class="p">]);</span> <span class="c1">// [['name' =&gt; 'Mikhail', 'age' =&gt; 62], ['name' =&gt; 'Emma', 'age' =&gt; 70], ['name' =&gt; 'Peter', 'age' =&gt; 78]]</span>
</code></pre></div></div>
<p>First-class functions allow us to write more expressive code. Like this example: function <code class="language-plaintext highlighter-rouge">prop</code> returns a new 
function that is passed to <code class="language-plaintext highlighter-rouge">ascend</code> that returns a new function that is passed to <code class="language-plaintext highlighter-rouge">sort</code>.</p>

<h3 id="composition">Composition</h3>
<p>We can build more complicated functions out of simpler ones.</p>
<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">function</span> <span class="n">plus1</span><span class="p">(</span><span class="nv">$value</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nv">$value</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">function</span> <span class="n">power</span><span class="p">(</span><span class="nv">$value</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nv">$value</span> <span class="o">*</span> <span class="nv">$value</span><span class="p">;</span>
<span class="p">}</span>

<span class="nv">$powerPlus1</span> <span class="o">=</span> <span class="nf">compose</span><span class="p">(</span><span class="s1">'plus1'</span><span class="p">,</span> <span class="s1">'power'</span><span class="p">);</span>
<span class="c1">// We created the new function $powerPlus1 that powers the value and that adds 1 to it.</span>

<span class="nv">$powerPlus1</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span> <span class="c1">// 10</span>
</code></pre></div></div>
<p>Composition is like you are playing with Lego blocks. You can create a new, more complex structure based 
on smaller bricks.</p>

<h3 id="currying">Currying</h3>
<p>Currying is the technique of translating a function that takes multiple arguments into a sequence of families of functions.</p>
<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">function</span> <span class="n">add</span><span class="p">(</span><span class="nv">$a</span><span class="p">,</span> <span class="nv">$b</span><span class="p">,</span> <span class="nv">$c</span><span class="p">)</span> <span class="p">{</span>
     <span class="k">return</span> <span class="nv">$a</span> <span class="o">+</span> <span class="nv">$b</span> <span class="o">+</span> <span class="nv">$c</span><span class="p">;</span>
<span class="p">};</span>

<span class="nv">$curryiedAdd</span> <span class="o">=</span> <span class="nf">curry</span><span class="p">(</span><span class="s1">'add'</span><span class="p">);</span>
<span class="nv">$curryiedAdd</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span> <span class="c1">// 6</span>
<span class="nv">$curryiedAdd</span><span class="p">(</span><span class="mi">1</span><span class="p">)(</span><span class="mi">2</span><span class="p">)(</span><span class="mi">3</span><span class="p">);</span> <span class="c1">// 6</span>
<span class="nv">$curryiedAdd</span><span class="p">(</span><span class="mi">1</span><span class="p">)(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span> <span class="c1">// 6</span>
<span class="nv">$curryiedAdd</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)(</span><span class="mi">3</span><span class="p">);</span> <span class="c1">// 6</span>
</code></pre></div></div>
<p>Function <code class="language-plaintext highlighter-rouge">add</code> execution will be triggered when all three arguments are supplied. A new function will be returned 
that expects the rest of the arguments in case not all arguments were provided.</p>

<p>This allows us to write things like in the <code class="language-plaintext highlighter-rouge">First-Class Functions</code> section.</p>

<h3 id="declarative-programming">Declarative Programming</h3>
<p>Usually, you write your code in a way that you describe to the computer how you want to achieve results. 
The declarative way allows you to write code in a way that you are talking to the computer about what you want 
to achieve.</p>
<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$totalQty</span> <span class="o">=</span> <span class="nf">compose</span><span class="p">(</span><span class="n">sum</span><span class="p">,</span> <span class="nf">pluck</span><span class="p">(</span><span class="s1">'qty'</span><span class="p">))([</span>
    <span class="p">[</span>
        <span class="s1">'description'</span> <span class="o">=&gt;</span> <span class="s1">'t-shirt'</span><span class="p">,</span>
        <span class="s1">'qty'</span> <span class="o">=&gt;</span> <span class="mi">2</span><span class="p">,</span>
        <span class="s1">'value'</span> <span class="o">=&gt;</span> <span class="mi">20</span>
    <span class="p">],</span>
    <span class="p">[</span>
        <span class="s1">'description'</span> <span class="o">=&gt;</span> <span class="s1">'jeans '</span><span class="p">,</span>
        <span class="s1">'qty'</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s1">'value'</span> <span class="o">=&gt;</span> <span class="mi">30</span>
    <span class="p">],</span>
    <span class="p">[</span>
        <span class="s1">'description'</span> <span class="o">=&gt;</span> <span class="s1">' boots'</span><span class="p">,</span>
        <span class="s1">'qty'</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s1">'value'</span> <span class="o">=&gt;</span> <span class="mi">40</span>
    <span class="p">]</span>
<span class="p">]);</span>
</code></pre></div></div>
<p>You are telling your computer to <code class="language-plaintext highlighter-rouge">Take all 'qty' properties and sum them up</code>. You are not bothered by how to extract 
property and how to sum up values.</p>

<h3 id="but-all-these-small-functions-are-procedural-under-the-hood">But all these small functions are procedural under the hood!</h3>

<p>Yes, you’re right. We are writing in PHP at the end. Functional code is just a higher-level abstraction. 
At the core, all programs — even in languages like Haskell — reduce to procedural execution, because computers 
are inherently procedural machines.</p>

<p>The idea is that you are creating a lot of small, stateless Lego bricks. Then, using them, you can build more 
and more complex functions. You don’t like the resulting structure? No problem! Just break it apart and create a 
new one with the same bricks.</p>

  </div>

  <a class="u-url" href="/2025/04/10/functional-programming-php.html" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">Notes and thoughts</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Slava Basko</li><li><a class="u-email" href="mailto:basko.slava@gmail.com">basko.slava@gmail.com</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/slava-basko"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">slava-basko</span></a></li><li><a href="https://www.linkedin.com/in/slava-basko"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#linkedin"></use></svg> <span class="username">slava-basko</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>The shelf for notes, thoughts, researches, etc.</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
